# 创新规则五子棋 (Dual-Rule Gomoku AI) 项目

[![Java](https://img.shields.io/badge/Language-Java-blue.svg)](https://www.java.com)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/badge/Version-3.0.0-brightgreen.svg)](https://github.com/ecjtusyy/five_in_row/tree/gomoku-v3)

欢迎来到创新规则五子棋项目！这是一款使用 **Java** 语言和 **Swing** 库构建的桌面五子棋游戏。它不仅包含了经典的五子棋玩法，更引入了独创的“日”字形胜利规则，为您带来全新的策略挑战。项目内置了一个基于启发式评估函数的智能AI，能够模拟人类进行策略性攻防。

![游戏截图](https://i.imgur.com/your-game-screenshot.png) 
*(建议您将游戏截图替换到这里以获得更好的展示效果)*

## 🚀 核心特性

* **双重胜利规则**：同时支持传统的“直线连珠”与独创的“日字形连珠”胜利模式。
* **双人对战模式**：与朋友在同一台电脑上进行经典对弈。
* **智能人机对战**：内置一个基于启发式评估函数的AI，能够进行有策略的攻防。
* **图形化界面**：使用 Java Swing 构建，提供直观的图形化游戏体验。
* **清晰的版本演进**：项目通过 `gomoku-v2`, `gomoku-v3` 等分支清晰地记录了不同版本的开发历程。

## 💡 独创玩法：双重胜利判定体系

本游戏的核心创新在于构建了两种并行的胜利判定体系，极大地丰富了游戏的战术维度。

### 1. 标准五子连珠 (直线胜利)
这是五子棋的经典规则。在棋盘的**横、竖、左斜、右斜**四个方向上，只要形成连续不间断的五个同色棋子，即可获胜。
-   **方向向量**: `(1, 0)`, `(0, 1)`, `(1, 1)`, `(1, -1)`

### 2. “日”字形五子连珠 (独创规则)
灵感源自中国象棋的“马步”。棋子可以通过连续的“日”字跳点路径达成五子连珠，使得棋盘上看似分离的棋子能够构建隐蔽的进攻路线。
-   **方向向量**: `(1, 2)`, `(1, -2)`, `(2, 1)`, `(2, -1)`

每次落子后，系统都会以新落子为中心，同时对这**八个方向**进行检测，只要任意一个方向满足五子连珠条件，即判定胜利。

## 🧠 AI 决策系统深度解析

本项目的AI并非随机下子，其背后是一套精密的、基于启发式评估的决策逻辑。

### AI的思考三步曲

1.  **遍历与模拟**：AI会智能地“思考未来”。它会遍历棋盘上所有可落子的空位，并对每个位置进行预演，评估在此落子后的潜在局面价值。

2.  **攻防一体的评分机制**：这是AI智能行为的关键。对于任何一个空点，AI都会从“我方”和“敌方”两个角度进行打分：
    * **进攻分数**：计算我方在此落子能形成多好的棋型（如活三、冲四）。
    * **防守分数**：计算**对手**在此落子能形成多好的棋型。

3.  **选择最优**：一个点的最终得分是其“进攻分数”与“防守分数”之和。这使得AI能够做出极具大局观的决策。

> **一个典型的决策场景：**
> AI发现，在A点落子可以形成一个“活三”（价值 **5,000分**）。但同时它也发现，如果B点被对手抢占，对手将形成一个“活四”（价值 **100,000分**）。在这种情况下，AI会果断放弃自己的进攻机会，优先抢占B点进行防守，因为阻止对方获得巨大优势的收益远高于自己的一次普通进攻。

### 评分体系
AI通过**字符串模式匹配**来为不同的棋型打分。它会扫描落子点周围的棋子序列，转换为字符串（如`"01110"`代表活三，`1`为己方，`0`为空位），然后根据下表进行评分：

| 棋型 | 描述 (示例) | 得分 |
| :--- | :--- |:--- |
| **活五** | 已形成五子连珠 | `1,000,000` |
| **活四** | 两头为空的四子 (`_OOOO_`) | `100,000` |
| **眠四** | 一头为空的四子 (`XOOOO_`) | `10,000` |
| **活三** | 两头为空的三子 (`_OOO_`) | `5,000` |
| **眠三** | 一头为空的三子 (`XOOO_`) | `1,000` |
| **活二** | 两头为空的二子 (`__OO__`) | `500` |
| **眠二** | 一头为空的二子 (`XOO__`) | `100` |

## 🛠️ 如何开始 (Getting Started)

### 作为玩家
1.  前往本项目的 [Releases](https://github.com/ecjtusyy/five_in_row/releases) 页面。
2.  下载最新的 `.jar` 或 `.exe` 文件。
3.  **运行**.jar 文件需要您已安装 Java 运行环境 (JRE)。在命令行中执行：
    ```bash
    java -jar GomokuProject.jar
    ```
4.  如果是 `.exe` 文件，直接双击运行即可。

### 作为开发者
1.  克隆本仓库到本地：
    ```bash
    git clone git@github.com:ecjtusyy/five_in_row.git
    cd five_in_row
    ```
2.  确保您已安装 JDK。使用 `javac` 编译源代码：
    ```bash
    # 假设源代码在 src 目录下, 编译后的 .class 文件将放入 bin 目录
    javac -d bin src/**/*.java
    ```
3.  运行主程序 (请将 `MainClassName` 替换为实际的主类名)：
    ```bash
    java -cp bin MainClassName
    ```

## 📂 项目结构
```
GomokuProject/
├── app_dist/          # (可能用于存放打包工具的配置或输出)
├── bin/               # 存放编译后的 .class 文件
├── Gomoku_EXE_Output/ # (可能用于存放打包后的 .exe 可执行文件)
├── src/               # 存放全部的 .java 源代码
├── mymanifest.txt     # Java打包时所需的清单文件
└── README.md          # 就是您正在阅读的这个文件
```

## 🐛 已知问题与未来规划

### 当前挑战
* **UI 性能**：每次落子都会触发整个界面的重绘，而非高效的增量更新，在低性能设备上可能导致闪烁。
* **混合规则下的AI决策降级**：当两种胜利规则同时生效时，AI的评估函数似乎无法完美权衡两种规则的攻防价值，导致其决策能力下降，有时会走出“呆呆的”棋。

### 未来计划
* **AI性能优化**：引入**多线程**技术，让AI可以在后台进行更深层次的棋局搜索（如Alpha-Beta剪枝算法），提高其“算力”。
* **引入大语言模型 (LLM)**：探索将本项目与大模型API结合的可能性，让更强大的AI大脑来陪玩家下棋，提供更具挑战和趣味性的游戏体验。

## 📜 许可证 (License)

本项目采用 [MIT 许可证](LICENSE)。

---
**感谢您的关注与支持！**
如果您对本项目有任何建议或发现任何问题，欢迎通过 [Issues](https://github.com/ecjtusyy/five_in_row/issues) 提出。
